<!doctype html><html lang=en><head><title>Posts :: Julian Dax</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=keywords content="[Javascript Typescript]"><meta name=robots content="noodp"><link rel=canonical href=https://juliand.ax/posts/><link rel=stylesheet href=https://juliand.ax/styles.css><link rel="shortcut icon" href=https://juliand.ax/img/theme-colors/orange.png><link rel=apple-touch-icon href=https://juliand.ax/img/theme-colors/orange.png><meta name=twitter:card content="summary"><meta name=twitter:site content="jdax"><meta name=twitter:creator content><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content="Posts"><meta property="og:description" content><meta property="og:url" content="https://juliand.ax/posts/"><meta property="og:site_name" content="Julian Dax"><meta property="og:image" content="img/favicon/%!s().png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><link href=/posts/index.xml rel=alternate type=application/rss+xml title="Julian Dax"><a rel=me href=https://chaos.social/@brodo></a></head><body><div class="container headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>Julian Dax</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/profile>Profile</a></li><li><a href=/showcase>Showcase</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/profile>Profile</a></li><li><a href=/showcase>Showcase</a></li></ul></nav></header><div class=content><div class=posts><article class="post on-list"><h1 class=post-title><a href=https://juliand.ax/posts/cargo-cult-code-gen/>Cargo Cult Code Generation</a></h1><div class=post-meta><time class=post-date>2023-05-05 ::</time></div><span class=post-tags>#<a href=https://juliand.ax/tags/javascript/>JavaScript</a>&nbsp;
#<a href=https://juliand.ax/tags/chatgpt/>ChatGPT</a>&nbsp;
#<a href=https://juliand.ax/tags/copilot/>Copilot</a>&nbsp;
#<a href=https://juliand.ax/tags/errors/>Errors</a>&nbsp;</span><div class=post-content>Javascript Errors in the Wild Recently, I came across this code in the popular Axios library:
function AxiosError(message, code, config, request, response) { Error.call(this); // some more code i've left out for brevity } What does Error.call(this) do, you might ask? Nothing! I&rsquo;ve tried it out in Node versions back until 6, Spidermonkey and JavaScriptCore. None of them do anything to the this object of the Error constructor. Moreover, the specification says that you have to be able to call the Error constructor without new, so it makes sense to implement it that way.</div><div><a class="read-more button" href=/posts/cargo-cult-code-gen/>Read more →</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://juliand.ax/posts/javascript-to-string/>String Representations of Javascript Objects</a></h1><div class=post-meta><time class=post-date>2023-04-01 ::</time>
<span class=post-author>Julian Dax</span></div><span class=post-tags>#<a href=https://juliand.ax/tags/javascript/>Javascript</a>&nbsp;
#<a href=https://juliand.ax/tags/node.js/>Node.js</a>&nbsp;
#<a href=https://juliand.ax/tags/deno/>Deno</a>&nbsp;</span><div class=post-content>toString() and Symbol.toStringTag The default Object.prototype.toString() function is defined to the specification to return [object X] even for non-objects:
Object.prototype.toString.call(undefined) // returns "[object Undefined]" Object.prototype.toString.call(true) // returns "[object Boolean]" {}.toString() // returns "[object Object]" X is a so-called &lsquo;string tag&rsquo; and in newer versions of Javascipt, you can set it yourself:
{[Symbol.toStringTag]:"MyObject"}.toString() // returns "[object MyObject]" But for objects, you can also just implement the complete toString function:
{toString: ()=> "My Cool Object!</div><div><a class="read-more button" href=/posts/javascript-to-string/>Read more →</a></div></article><article class="post on-list"><h1 class=post-title><a href=https://juliand.ax/posts/detect-js-errors/>How to detect Errors in JavaScript</a></h1><div class=post-meta><time class=post-date>2023-03-31 ::</time></div><span class=post-tags>#<a href=https://juliand.ax/tags/javascript/>JavaScript</a>&nbsp;
#<a href=https://juliand.ax/tags/errors/>Errors</a>&nbsp;</span><div class=post-content>TL/DR Finding out if an object is an error is unreliable and full of edge-cases. A modern, isomorphic but still not perfect way to do it is the following1:
function isError (object) { return object instanceof Error || ( object?.constructor?.name === 'Error' || object?.constructor?.name === 'DOMException' ) } Many custom error classes in the JavaScript ecosystem are hard to detect because creating custom error classes used to be hard before the introduction of the class syntax.</div><div><a class="read-more button" href=/posts/detect-js-errors/>Read more →</a></div></article><div class=pagination><div class=pagination__buttons></div></div></div></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2023 Powered by <a href=http://gohugo.io>Hugo</a></span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/bundle.min.js></script></div></body></html>